<h1>Team Comps</h1>

<%= form_tag team_comps_path, :method => 'get' do %>
  <%= text_field_tag :search, params[:search] %>
  <%= submit_tag "Search" %>
<% end %>

<% if current_user %>
  <p><%= link_to "New", new_team_comp_path %></p>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Objective</th>
      <th>Lineup</th>
      <th>Rating</th>
      <th>Author</th>
    </tr>
  </thead>
  <tbody>
    <% @team_comps.each do |comp| %>
      <tr>
        <td><%= link_to comp.name, comp %></td>
        <td><%= comp.objective %></td>
        <td>
          <%= link_to(image_tag(comp.hero1.icon_path, size: "35x30"), comp.hero1) %>
          <%= link_to(image_tag(comp.hero2.icon_path, size: "35x30"), comp.hero2) %>
          <%= link_to(image_tag(comp.hero3.icon_path, size: "35x30"), comp.hero3) %>
          <%= link_to(image_tag(comp.hero4.icon_path, size: "35x30"), comp.hero4) %>
          <%= link_to(image_tag(comp.hero5.icon_path, size: "35x30"), comp.hero5) %>
          <%= link_to(image_tag(comp.hero6.icon_path, size: "35x30"), comp.hero6) %>
        </td>
        <td><%= comp.rating %></td>
        <td><%= link_to comp.author.username, comp.author %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div>
<%= paginate @team_comps %>
</div>
